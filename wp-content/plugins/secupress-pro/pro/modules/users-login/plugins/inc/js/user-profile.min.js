!function(a,b,c,d){function e(){"function"!=typeof zxcvbn?setTimeout(e,50):(m.val(m.data("pw")),m.trigger("pwupdate").trigger("wp-check-valid-field"),1!==parseInt(r.data("start-masked"),10)?l.addClass("show-password"):r.trigger("click"))}function f(){var b=a("#secupress-pass-strength-result")[0];u=m.val(),l=m.parent(),n=a('<input type="text"/>').attr({id:"pass1-text",name:"pass1-text",autocomplete:"off"}).addClass(m[0].className).data("pw",m.data("pw")).val(m.val()).on(v,function(){n.val()!==u&&(p.val(n.val()),m.val(n.val()).trigger("pwupdate"),u=n.val())}),m.after(n),1===parseInt(m.data("reveal"),10)&&e(),m.on(v+" pwupdate",function(){m.val()!==u&&(u=m.val(),n.val()!==u&&n.val(u),m.add(n).removeClass("short bad good strong"),b.className&&(m.add(n).addClass(b.className),"strong"!==b.className?(s.prop("disabled",!0),q.show()):(s.prop("disabled",!1),q.hide())))})}function g(){r.data("toggle",0).attr({"aria-label":userProfileL10n.ariaHide}).find(".text").text(userProfileL10n.hide).end().find(".dashicons").removeClass("dashicons-visibility").addClass("dashicons-hidden"),n.focus(),o.attr("for","pass1-text")}function h(){r=k.find(".wp-hide-pw"),r.show().on("click",function(){1===parseInt(r.data("toggle"),10)?(l.addClass("show-password"),g(),_.isUndefined(n[0].setSelectionRange)||n[0].setSelectionRange(0,100)):(l.removeClass("show-password"),r.data("toggle",1).attr({"aria-label":userProfileL10n.ariaShow}).find(".text").text(userProfileL10n.show).end().find(".dashicons").removeClass("dashicons-hidden").addClass("dashicons-visibility"),m.focus(),o.attr("for","secupress-pass1"),_.isUndefined(m[0].setSelectionRange)||m[0].setSelectionRange(0,100))})}function i(){var b,c,d;k=a(".secupress-user-pass1-wrap"),o=k.find("th label").attr("for","pass1-text"),a(".secupress-user-pass2-wrap").hide(),t=a("#submit").on("click",function(){w=!1}),s=t.add(" #createusersub"),q=a(".pw-weak"),m=a("#secupress-pass1"),m.length&&f(),p=a("#secupress-pass2").on(v,function(){p.val().length>0&&(m.val(p.val()),p.val(""),u="",m.trigger("pwupdate"))}),m.is(":hidden")&&(m.prop("disabled",!0),p.prop("disabled",!0),n.prop("disabled",!0)),b=k.find(".wp-pwd"),c=k.find("button.wp-generate-pw"),h(),c.length&&b.hide(),c.show(),c.on("click",function(){w=!0,c.hide(),b.show(),m.attr("disabled",!1),p.attr("disabled",!1),n.attr("disabled",!1),0===n.val().length&&e(),_.defer(function(){n.focus(),_.isUndefined(n[0].setSelectionRange)||n[0].setSelectionRange(0,100)},0)}),d=k.find("button.wp-cancel-pw"),d.on("click",function(){w=!1,n.val(""),wp.ajax.post("secupress-generate-password").done(function(a){m.data("pw",a)}),c.show(),b.hide(),q.hide(),m.prop("disabled",!0),p.prop("disabled",!0),n.prop("disabled",!0),g(),m.val("").trigger("pwupdate"),s.prop("disabled",!1)}),k.closest("form").on("submit",function(){w=!1,m.prop("disabled",!1),p.prop("disabled",!1),p.val(m.val()),l.removeClass("show-password")})}function j(){var b,c=a("#secupress-pass1").val();if(a("#secupress-pass-strength-result").removeClass("short bad good strong"),!c)return void a("#secupress-pass-strength-result").html("&nbsp;");switch(b=wp.passwordStrength.meter(c,wp.passwordStrength.userInputBlacklist(),c)){case 2:a("#secupress-pass-strength-result").addClass("bad").html(pwsL10n.bad);break;case 3:a("#secupress-pass-strength-result").addClass("good").html(pwsL10n.good);break;case 4:a("#secupress-pass-strength-result").addClass("strong").html(pwsL10n.strong);break;case 5:a("#secupress-pass-strength-result").addClass("short").html(pwsL10n.mismatch);break;default:a("#secupress-pass-strength-result").addClass("short").html(pwsL10n["short"])}}var k,l,m,n,o,p,q,r,s,t,u,v,w=!1;v="oninput"in c.createElement("input")?"input":"keyup",a(c).ready(function(){a("#secupress-pass1").val("").on(v+" pwupdate",j),a("#secupress-pass-strength-result").show(),i()}),b.generatePassword=e,a(b).on("beforeunload",function(){return!0===w?userProfileL10n.warn:void 0})}(jQuery,window,document);